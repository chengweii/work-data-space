# 移动互联网商城系统

# 中文摘要
随着网络购物愈发盛行的趋势以及移动智能手机的普及，零售企业迎来了新零售时代。线上与线下销售的结合将为零售企业带来更多的营业流量，同时也为用户带来更好的购物体验服务。
移动互联网商城系统可以帮助中小型零售企业快速完成线上业务布局，更好的迎接新零售时代。本系统通过微信小程序、基于J2EE的分布式系统服务、Mysql数据库等技术实现。
系统由前台销售系统和后台管理系统两个子系统组成。其中前台销售系统主要实现了如下功能：会员登录、商品搜索、购物车、订单管理、收货信息管理；后台管理系统主要实现了如下功能：用户管理、订单管理、商品管理、商品类别管理。
## 关键词
电子商务；移动互联网；分布式

# 外文摘要
With the growing popularity of online shopping and the popularity of mobile smart phones, retail businesses have ushered in the new retail era. The combination of online and offline sales will bring more business volume to retail businesses, and also bring better shopping experience services to users.
The mobile Internet shopping mall system can help small and medium-sized retail businesses quickly complete the layout of online business and better meet the new retail era. The system is implemented through WeChat small program, distributed system service based on J2EE, Mysql database and so on.
The system is composed of two subsystems, the front sales system and the background management system. The front desk sales system mainly realizes the following functions: member login, commodity search, shopping cart, order management, and collecting information management. The background management system mainly realizes the following functions: user management, order management, commodity management, commodity category management.
## 关键词
e-commerce;mobile internet;distributed

# 目录

# 引言
## 选题背景
在2010年前，电商业务大部分在PC端；2012 年开始，微信的诞生以及智能手机普及率快速提升使得市场开始逐渐由 PC 端转向移动端。
从互联网零售三巨头天猫、京东、苏宁的数据来看，其中移动端业务占比均由2013年的不足10%飞速提升到2015年的近50%。根据大众的消费习惯趋势判断，未来这一占比仍将继续提升。
在电商业务逐渐由PC端转向移动端以及网络购物越来越流行的趋势下，互联网零售的规模将会持续保持高速增长，同时未来互联网零售将会抢占其他传统零售的部分市场份额，这也契合了国家倡导的由传统经济向新兴经济转型的方向。

## 选题目的
随着时间推移，未来主流的零售业态将会逐渐向互联网零售倾斜。
目前国内很多中小型零售企业的销售模式仍以实体店销售为主，但这种模式往往会在一定程度上受到地理位置、店铺租金、人力成本等外界因素的影响。
尽管有部分零售企业也通过PC端网站实现了销售的互联网化，但大部分维护成本过高，并且未覆盖移动互联网销售渠道。
随着网络购物越来越流行，未来的零售模式将会朝着线上线下销售结合的方向发展。
零售企业要实现快速、低成本地布局线上业务，完成业务扩张，开发一套支持多渠道的移动互联网零售行业的商城系统就十分必要。

## 选题意义
移动互联网商城系统可以在提升用户体验、降低开发成本、减少运营成本、支持业务功能等方面最大程度地满足中小型零售企业实现移动互联网化销售的需求，协助中小型零售企业快速完成互联网新零售的战略布局。
对于推动零售行业由传统经济模式向新兴经济模式快速转型有着一定的意义。

## 系统开发环境及技术介绍
### 开发环境
- 操作系统：Windows10
- 数据库：MySQL5.8
- 编程软件：IntelliJ IDEA
- JDK：jdk1.8.0_40
- Web服务器：Apache Tomcat 6.0
- 分布式治理：Zookeeper3.4.5
- 缓存服务器：Redis3.0.7

### 开发技术
本系统的开发，客户端方面，采用微信小程序技术的方式实现，这样不但简化了开发，同时借助微信跨平台通用的优势满足了系统支持多渠道的需求。
开发微信小程序的技术主要是Html、JavaScript、Css。
服务端方面，针对互联网系统安全、可靠、灵活、敏捷、扩展性强和不间断运行的特性，采用基于分布式服务系统架构的设计，这样可以以更加低廉的成本、更加灵活的方式来更好的满足企业的业务需求。
分布式服务系统架构具体使用到的技术主要有Velocity、Spring、Spring MVC、Mybatis、Dubbo。

#### 微信小程序
微信小程序是一种全新的移动端用户接入渠道，它可以在微信内被方便快速地获取和传播，同时具有很好的用户体验。
用户扫一扫或者搜一下即可打开应用。用户不用关心应用安装卸载的问题与麻烦。
它是一种混合技术应用。对开发人员来说，小程序开发门槛相对较低，难度不及APP，使用到的技术主要有：WXML（HTML5）、WXSS（CSS）、JavaScript，能够满足简单的基础应用，适合生活服务类线下商铺以及非刚需低频应用的转换。
#### Velocity
Velocity是一个模板引擎。它通过Java开发，允许通过模板语言来引用Java代码中定义的对象。
当Velocity在Web开发时，根据模型 - 视图 - 控制器（MVC）模型开发Web站点，这意味着网页设计人员可以专注于创建一个看起来很好的站点，程序员可以专注于编写一流的代码。
Velocity将Java代码与网页分隔，使网站在其生命周期内加倍可保护，并为Java Server Pages（JSP）供给了可行的替换方案。
#### Spring
Spring是一种层式框架。主要是解耦业务逻辑层和其他各层。Spring提供了管理业务对象的一致方法并且鼓励了注入对接口编程而不是对类编程的良好习惯。Spring的架构基础是基于使用JavaBean属性的Inversion of Control容器。
#### Spring MVC
Spring MVC属于SpringFrameWork的后续产物，已融会在Spring Web Flow内里。
Spring 框架供给了构建 Web 应用程序的全功能 MVC 模块。
利用 Spring 可插入的 MVC 架构，从而在利用Spring开发WEB时，可以选择利用Spring的SpringMVC框架或集成其他MVC框架，如Struts2等。
#### Mybatis
MyBatis 是一款优异的持久层框架，它支持定制化 SQL、存储过程以及高级映射。MyBatis 避免了几近全部的 JDBC 代码和手动设置参数和获得结果集。
MyBatis 可以使用 XML或注解配置、映射原生信息，将接口和 Java 的 POJOs(Plain Old Java Objects,普通的 Java对象)映射为数据库中的记录。
#### Dubbo
Dubbo是阿里巴巴公司开源的一个高性能优异的服务框架，使得应用可通过高性能的 RPC 实现Service的输出和输入功能，可以和Spring框架无缝集成。
#### MySQL
MySQL是一个优异的关系型数据库管理系统，它使用的核心线程是完全多线程，支持多处理器。支持多种数据类型。它通过一个高度优化的类库实现SQL函数库并像他们能达到的一样快速。Mysql还可以工作在不同的平台上，可移植行高，安装简单小巧。相比于其他数据库，Mysql调试、管理、优化简单。
#### Zookeeper
ZooKeeper是一个分布式的，开放源码的分布式系统协调治理服务，是Google的Chubby一个开源的实现，是Hadoop和Hbase的主要组件。它是一个为分布式应用提供一致性服务的软件，提供的功能包括：配置维护、域名服务、分布式同步、组服务等。
ZooKeeper的目标就是封装好复杂易出错的关键服务，将简单易用的接口和性能高效、功能稳定的系统提供给用户。
#### Redis
Redis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，高性能、支持原子操作，并提供多种语言的API。

## 系统分析与设计
### 可行性分析
#### 技术可行性
系统主要使用基于 Spring+Spring MVC+Mybatis 的框架进行开发，这种框架具有开发效率高，层次清晰，适合团队协作开发的特点。
Spring MVC 是当前最优秀的MVC框架，支持注解配置，易用性高。
Spring 框架是个轻量级的Java EE框架。同时也是一个“一站式”框架，在表现层（Web层）、业务逻辑层（Service层）、数据访问层（DAO层）中的每一层均提供了不同的解决技术。
MyBatis 是支持普通SQL查询,存储过程和高级映射的优秀持久层框架。MyBatis消除了几乎所有的JDBC代码和参数的手工设置以及结果集的检索。
Web服务器使用Apache Tomcat，Apache Tomcat是一个轻量级Web应用服务器，而且Apache Tomcat在中小型系统中被普遍使用，所以Apache Tomcat是开发和调试 J2EE 程序的首选。Apache Tomcat服务器的兼容性很好，服务器的性能稳定，其发展前景很好。
数据库用MySQL,MySQL是一个快速,易于使用的RDBMS,它被应用于许多小型和大型企业。
开发环境使用IntelliJ IDEA，IntelliJ IDEA是java语言开发的集成环境，IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、各类版本工具(git、svn、github等)、JUnit、CVS整合、代码分析、 创新的GUI设计等方面的功能可以说是超常的。
#### 经济可行性
系统的开发与运行环境的选择相关的软件都是开源免费的，可以在网上自行下载。只要一台配置比较高的电脑即可完成，成本较低。
#### 操作可行性
系统设计遵守易用、规范、美观的原则，便于用户查看和使用，最大限度地减轻系统管理人员的工作量，做到部分业务的自动化处置。系统业务流程规范，具备较强的实操性。

### 需求分析
对系统的整体需求进行可行性分析后，基本确定系统的开发可行性。为满足用户的使用需求，仍需要进一步的进行系统需求的分析，从而对其进行子模块以及其功能的详细分析与设计。  
需求分析的目标是把用户对待开发软件提出的“要求”或“需要”进行分析与整理，确认后形成描述完整、清晰与规范的文档，确定软件需要实现哪些功能，完成哪些工作。
此外，软件的一些非功能性需求(如软件性能、可靠性、响应时间、可扩展性等)，软件设计的约束条件，运行时与其他软件的关系等也是软件需求分析的目标。

### 功能需求分析
功能性需求即软件必须完成哪些事，必须实现哪些功能，以及为了向其用户提供有用的功能所需执行的动作。功能性需求是软件需求的主体。
设计实现功能时，要尽可能从用户角度出发，时刻秉着以用户为中心的目的，只有满足用户的需求，才是该系统的最终目的。
只有明确功能需求，设计系统时才会思路清晰，所以功能需求分析在论文中必不可少。

通过对众多互联网销售系统的需求研究，确定该系统使用用户有会员、管理员，基于以上需求分析，将移动互联网商城系统划分为2个子系统：销售系统、后台管理系统。
#### 销售系统
销售系统是面向用户（会员）的部分，功能包括：会员登录、商品搜索、查看商品详情、管理购物车、提交订单、付款、管理收货信息、管理订单等操作，为实现用户（会员）通过微信小程序在线购物提供服务。
##### 会员登录
用户通过微信小程序进入系统时，通过微信授权登录方式自动完成用户注册、登录。授权登录完成后，用户可继续如实填写详细个人信息及收货信息，同时可以查询及修改订单。
##### 商品搜索
用户在系统中搜索商品，获取商品列表。
##### 查看商品详情
用户在搜索获得的商品列表中，点击需要的商品即可查看商品详情，若要购买可加入购物车，也可立即购买。
##### 管理购物车
用户添加商品到购物车后，可以进入购物车，查看自己要购买的商品、修改某一商品数量、取消购买某商品、清空购物车。
##### 提交订单
用户确定购物车中的商品后提交订单，如用户已填写收货人信息，则页面显示该信息并由用户确认。
如尚未填写则请用户填写收货信息，系统记录用户提交的收货人信息以便其下次购物时使用。用户提交订单后可在系统中查询订单，并可对尚未处理的订单进行取消、修改等操作。
##### 付款
用户提交订单后，通过微信支付进行结算。
##### 管理订单
用户可以对自己的订单进行查看、取消、退货、确认收货操作。
##### 管理收货信息
用户可以对订单的收货信息进行新增、修改、删除操作。

#### 后台管理系统
后台管理系统是面向管理员的部分，功能包括：商品类别管理、商品管理、订单管理、用户管理等操作，保障销售业务正常运行。
##### 商品类别管理
管理员可通过系统添加、修改、删除商品类别。
##### 商品管理
管理员可通过系统添加、修改、删除、上下架商品。
##### 订单管理
管理员可通过系统管理用户的订单，包含订单的确认、发货、退款。
##### 用户管理
管理员可通过系统查询、修改、启用禁用用户（会员）。

### 业务流程
业务流程图是一种描述管理系统内各单位、人员之间的业务关系，作业顺序和管理信息流向的图表。它用一些规定的符号及连线表示某个具体业务的处理过程,帮助分析人员找出业务流程中的不合理流向。
业务流程图基本上按业务的实际处理步骤和过程绘制,是一种用图形方式反映实际业务处理过程的“流水账”。绘制这本“流水账”对于开发中理顺和优化业务过程是很有帮助的。
销售系统的业务流程主要包含以下几部分：
#### 用户购物流程如图所示
![用户购物流程](/work/论文/图片/用户购物流程.png)  
#### 用户订单管理流程如图所示
![用户订单管理](/work/论文/图片/用户订单管理.png)  
#### 用户收货信息管理流程如图所示
![用户收货信息管理](/work/论文/图片/用户收货信息管理.png)  
后台管理系统的业务流程主要包含以下几部分：
#### 商品类别管理流程如图所示
![管理员商品类别管理](/work/论文/图片/管理员商品类别管理.png)   
#### 商品管理流程如图所示
![管理员商品管理](/work/论文/图片/管理员商品管理.png)  
#### 用户管理流程如图所示
![管理员用户管理](/work/论文/图片/管理员用户管理.png)  
#### 订单管理流程如图所示
![管理员订单管理](/work/论文/图片/管理员订单管理.png)  

## 系统总体设计
移动互联网商城系统是典型的电子商务企业对客户 (B2C)的模式，主要包括会员登录、商品搜索、查看商品详情、管理购物车、提交订单、付款、管理收货信息、管理订单等基本功能。
系统通过后台管理系统管理商品、订单、用户，包括商品类别的添加、修改、删除，商品的添加、修改、删除、上下架，订单的确认、发货、退款，用户（会员）的查询、修改、启用禁用等功能。
系统基于 Spring+Spring MVC+Mybatis 框架技术，从而减少系统模块间的偶合，实现了系统的稳定性、可重用性和可扩充性。系统总体业务结构如图所示：  
![系统总体业务架构](/work/论文/图片/系统总体业务架构.png)
为了保证系统的高可用、高性能，系统设计为分布式系统，可动态扩容提高系统的承载能力。另外还通过Redis缓存技术保证系统服务访问的高性能。  
![系统总体技术架构](/work/论文/图片/系统总体技术架构.png)

### 系统功能设计
#### 销售系统
##### 会员登录
用户打开微信小程序，通过微信授权登录方式自动完成用户注册、登录，系统记录用户opendid、用户名（昵称）。
##### 商品搜索
用户在系统中搜索商品时，在搜索框中输入商品关键字，点击搜索，显示商品列表。
##### 查看商品详情
用户在搜索获得的商品列表中，点击需要的商品即可查看商品详情。若要购买可加入购物车，也可立即购买。
##### 管理购物车
用户添加商品到购物车后，可以进入购物车，查看选购商品。用户还可以进行修改某一商品数量、取消购买某商品、清空购物车等操作。
##### 提交订单
用户确定购物车中的商品后提交订单，用户提交订单后可在系统中查询订单，并可对尚未处理的订单进行取消、修改等操作。
##### 付款
用户提交订单后，通过微信支付进行结算，结算完成后跳转到我的订单。
##### 管理订单
用户进入我的订单，显示订单列表，用户可以对自己的订单进行查看详情、取消、确认收货、退货操作。
##### 管理收货信息
用户可以对订单的收货信息进行新增、修改、删除操作。

#### 后台管理系统
##### 商品类别管理
管理员可通过系统添加、修改、删除商品类别操作。
##### 商品管理
管理员可通过系统添加、修改、删除、上下架商品操作。
##### 订单管理
管理员可通过系统管理用户的订单，包含订单的查询、确认、发货、退款。
##### 用户管理
管理员可通过系统查询、修改、启用禁用用户（会员）。

### 数据库设计
系统采用Mysql数据库，新建“B2C_app”的数据库，并建立相关的业务模型表，详细的设计参见以下模型图：  
![数据库设计模型](/work/论文/图片/数据库设计.png)  
### 用户界面设计
#### 销售系统
用户进入微信小程序客户端，授权登录，如图：  
![会员登录](/work/论文/图片/销售系统/会员登录.png)  
用户输入想要的商品关键字，搜索商品，如图：  
![商品搜索](/work/论文/图片/销售系统/商品搜索.png)  
用户点击查看想要购买的商品，如图：  
![商品详情](/work/论文/图片/销售系统/商品详情.png)  
如果想要购买商品，可以加入购物车，当然也可以立即购买，然后可以进入购物车去结账，如图：  
![购物车](/work/论文/图片/销售系统/购物车.png)  
用户确认自己要购买的商品及数量后，点击去结账提交订单，提交订单时，需要确认收货信息等订单信息，如图：  
![提交订单](/work/论文/图片/销售系统/提交订单.png)  
提交订单，确认订单详情，准备去支付，如图：  
![去支付](/work/论文/图片/销售系统/去支付.png)  
点击去支付，调用微信支付完成支付，如图：  
![微信支付](/work/论文/图片/销售系统/微信支付.png)  
订单支付完成后，可以在我的管理中的订单管理中跟踪订单的状态，如图：  
![我的管理](/work/论文/图片/销售系统/我的管理.png)  
![我的订单](/work/论文/图片/销售系统/我的订单.png)  
![订单详情](/work/论文/图片/销售系统/订单详情.png)  
用户还可以在我的管理中的收货信息中管理收货信息，如图：  
![收货信息](/work/论文/图片/销售系统/收货信息.png)  
![添加收货信息](/work/论文/图片/销售系统/添加收货信息.png)  
![编辑收货信息](/work/论文/图片/销售系统/编辑收货信息.png)  
![删除收货信息](/work/论文/图片/销售系统/删除收货信息.png)  
#### 后台管理系统
后台管理员登录系统，如图：    
![管理员登录](/work/论文/图片/后台管理系统/管理员登录.png)  
登录系统后，可以管理用户，如图：  
![用户管理](/work/论文/图片/后台管理系统/用户管理.jpg)  
![查看用户](/work/论文/图片/后台管理系统/查看用户.jpg)  
管理员可以在后台管理系统中管理商品类别，如图：  
![商品类别管理](/work/论文/图片/后台管理系统/商品类别管理.jpg)  
![添加商品类别](/work/论文/图片/后台管理系统/添加商品类别.jpg)  
![修改商品类别](/work/论文/图片/后台管理系统/修改商品类别.jpg)  
管理员可以在后台管理系统中管理商品，如图：  
![商品管理](/work/论文/图片/后台管理系统/商品管理.jpg)  
![添加商品](/work/论文/图片/后台管理系统/添加商品.jpg)  
![修改商品](/work/论文/图片/后台管理系统/修改商品.jpg)  
![查看商品](/work/论文/图片/后台管理系统/查看商品.jpg)  
管理员可以在后台管理系统中管理订单，如图：  
![订单查询](/work/论文/图片/后台管理系统/订单查询.png)  
![订单详情](/work/论文/图片/后台管理系统/订单详情.jpg)  
## 系统详细设计
### 框架搭建
首先通过IDE创建Maven项目，引入依赖相关的jar包:Spring、Spring MVC、Velocity、Mybatis、Dubbo，pom详情概要如下：
```
<dependencies>
    <!-- Service相关 -->
    <dependency>
        <groupId>com.b2capp</groupId>
        <artifactId>service-sdk</artifactId>
        <version>0.0.1-RELEASE</version>
    </dependency>
    <!-- Spring FrameWork -->
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-webmvc</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-test</artifactId>
    </dependency>
    <!-- velocity -->
    <dependency>
        <groupId>org.apache.velocity</groupId>
        <artifactId>velocity</artifactId>
        <version>1.7</version>
    </dependency>
    <dependency>
        <groupId>org.apache.velocity</groupId>
        <artifactId>velocity-tools</artifactId>
        <version>2.0</version>
    </dependency>
	<!-- Mybatis相关 -->
    <dependency>
        <groupId>org.mybatis</groupId>
        <artifactId>mybatis</artifactId>
        <version>3.2.2</version>
    </dependency>
    <dependency>
        <groupId>org.mybatis</groupId>
        <artifactId>mybatis-spring</artifactId>
        <version>1.2.0</version>
    </dependency>
    <dependency>
        <groupId>org.mybatis.generator</groupId>
        <artifactId>mybatis-generator-core</artifactId>
        <version>1.3.2</version>
    </dependency>
    <!-- Dubbo -->
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>dubbo</artifactId>
        <exclusions>
            <exclusion>
                <groupId>org.springframework</groupId>
                <artifactId>spring</artifactId>
            </exclusion>
        </exclusions>
    </dependency>
    <!-- 数据库连接池 -->
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>druid</artifactId>
        <version>0.2.9</version>
    </dependency>
    <!-- Redis相关 -->
    <dependency>
        <groupId>org.springframework.data</groupId>
        <artifactId>spring-data-redis</artifactId>
        <version>1.1.0.M1</version>
    </dependency>
    <dependency>
        <groupId>redis.clients</groupId>
        <artifactId>jedis</artifactId>
        <version>2.1.0</version>
    </dependency> 
</dependencies>
```
然后搭建项目工程目录：controller、util、entity，Service引用Dubbo服务，Serivce项目工程目录：service、dao、util。Dubbo配置如下：
```
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd">
	<dubbo:application name="JKDFacade-APP" />
	<dubbo:protocol name="dubbo" port="-1" />
	<dubbo:registry address="zookeeper://zk1.b2capp.com:2181" />
	<!-- refenrence -->
	<dubbo:reference id="cacheService" interface="com.jiuxian.service.cache.CacheService" group="prod" />
	<dubbo:reference id="sessionService" interface="com.jiuxian.service.session.SessionService" group="prod" />
	<dubbo:reference id="userService" interface="com.jiuxian.service.user.UserService" group="prod" />
	...
</beans>
```
项目搭建完成后，通过Maven进行编译部署运行。
### 功能详细设计
#### 销售系统
##### 会员登录
用户通过微信小程序进入系统时，通过微信授权登录方式自动完成用户注册、登录，系统记录用户opendid、用户名（昵称）。用户登录后，系统提示完善个人信息：手机号、邮箱、性别、年龄等。
##### 商品搜索
用户在系统中搜索商品时，在搜索框中输入商品关键字，点击搜索，获取商品列表。
##### 查看商品详情
用户在搜索获得的商品列表中，点击需要的商品即可查看商品详情，商品信息展示内容包括：商品类别、商品名称、商品价格、规格、商品介绍等信息。若要购买可加入购物车，也可立即购买。
##### 管理购物车
用户添加商品到购物车后，可以进入购物车，购物车中主要显示如下信息：用户选购的商品列表、商品总价、运费。用户还可以进行修改某一商品数量、取消购买某商品、清空购物车等操作。
##### 提交订单
用户确定购物车中的商品后提交订单，订单信息包含：购买商品列表、收货信息、订单金额、运费金额、实付金额、下单用户等，如用户已填写收货人信息，则页面显示该信息并由用户确认。
如尚未填写则请用户填写收货信息：收货人、联系电话、城市、收货地址，系统记录用户提交的收货人信息以便其下次购物时使用。用户提交订单后可在系统中查询订单，并可对尚未处理的订单进行取消、修改等操作。
##### 付款
用户提交订单后，通过微信支付进行结算，结算完成后跳转到我的订单。
##### 管理订单
用户进入我的订单，显示订单列表，用户可以对自己的订单进行查看详情、取消、确认收货、退货操作。
只能对待支付、待确认的订单做取消操作，取消订单则订单状态变为已取消。
对于已发货的订单可以进行确认收货操作，订单状态变为已完成。
对于已完成的订单可以进行退货操作，订单状态变为退货中。
##### 管理收货信息
用户可以对订单的收货信息进行新增、修改、删除操作。
进入收货信息管理页面，显示用户已录入的收货信息列表。
点击查看显示收货信息：收货人、联系电话、城市、收货地址。
点击添加收货信息，输入收货信息：收货人、联系电话、城市、收货地址，点击保存完成添加收货信息。
用户修改收货信息后点击保存完成修改。
删除收货信息后状态变为已删除，不再显示。

#### 后台管理系统
##### 商品类别管理
管理员可通过系统添加、修改、删除商品类别操作。
进入商品类别管理页面，默认显示所有商品类别，输入查询条件（类别名称），点击搜索，显示查询商品类别结果。
点击添加商品类别，输入商品类别，点击保存完成添加商品类别。
修改商品类别完成后点击保存完成修改。
删除商品类别后状态变为已删除，不再显示。
##### 商品管理
管理员可通过系统添加、修改、删除、上下架商品操作。
点击添加商品，输入商品信息：商品类别、商品名称、商品价格、规格、商品介绍，点击保存完成添加商品。
修改商品完成后点击保存完成修改。
删除商品后状态变为已删除，不再显示。
点击上架操作将商品状态变为已上架，商品在销售系统可查询显示，点击下架操作将商品状态变为已下架，销售系统中该商品无法查询显示。
##### 订单管理
管理员可通过系统管理用户的订单，包含订单的查询、确认、发货、退款。
管理员通过指定查询条件（用户、支付时间）查询用户订单。
用户（会员）下单支付完成时，订单状态由待支付、待确认状态变为已支付状态。
订单确认完成后，管理员可以对订单进行发货处理，发货后点击发货操作，订单状态变为已发货状态。
用户（会员）申请退货后，订单状态变为退货中，管理员对申请退货的订单处理完成后，点击退款操作，订单状态变为已退款状态。
##### 用户管理
管理员可通过系统查询、修改、启用禁用用户（会员）。
查询用户时，输入查询条件（用户名称、用户状态、创建时间），点击查询，获取用户列表。
点击查看显示用户详细信息：用户名、用户ID、openid、手机号、邮箱、性别、年龄等。
点击禁用操作将用户状态变为已禁用，用户将无法再使用系统，点击启用操作将用户状态变为已启用，用户访问系统恢复正常。
修改用户信息只可以对用户的状态进行修改。

## 系统运行与测试
### 测试目的
为了保证系统的正常交付使用，需要针对程序的结构、功能需求、系统设计等方面设计测试用例，然后通过执行测试用例发现系统运行中的问题、缺陷以便后续修复完善系统。
系统测试除了功能性指标，还包括网络、硬件等非功能性指标。完整的系统测试是评定软件质量的方法。
系统开发完成仅仅是系统交付的一部分，只有通过完整、全面测试的系统才能真正满足用户的需求，最终交付使用。
### 测试方法
系统测试方法主要有：灰盒测试、黑盒测试、白盒测试。
白盒测试需要测试人员掌握编程能力，测试成本及难度较高，所以目前系统测试的主要方法是黑盒测试。
黑盒测试也叫功能测试，主要是通过测试用例逐一测试各个功能是否能正常使用。测试用例设计方法包含等价类划分法、边界值分析法、错误推测法、因果图法、判定表驱动法、正交试验设计法、功能图法、场景法。
测试时从用户角度出发，从输入输出的结果对应判断功能是否符合要求。
通过科学的测试方法才能保证系统的最终质量，提高系统的安全性、可靠性。
### 系统测试
#### 界面测试
界面测试的内容是对用户UI进行测试，主要包含以下内容：
- 系统文案是否正确且没有歧义。
- 功能是否易用。
- 字体字号配色等样式是否美观。
- 表格是否适应不同分辨率，在各个分辨率下均显示正常。
- UI设计是否一致，相似的业务操作应统一设计，保持界面的一致性，避免用户产生错乱。
- UI设计是否合理，所有操作都应该让用户使用起来方便、快捷，避免给用户带来障碍和麻烦。
#### 功能性测试
##### 销售系统
###### 会员登录
用户进入微信搜索微信小程序，点击小程序进入系统，确认是否可以正常登陆系统。
##### 商品搜索
用户进入系统后，点击主页，在搜索框中输入搜索关键字，点击搜索按钮，确认是否可以显示符合要求的商品数据。
###### 查看商品详情
在查询的商品列表中，点击商品项，跳转到商品详情页面，确认商品信息：商品类别、商品名称、商品价格、规格、商品介绍是否正常显示。
###### 管理购物车
在商品详情页面，用户点击立即购买便跳转到提交订单页面，确认用户的收货地址信息、商品信息、总金额、运费金额、实付金额是否都正确。
在商品详情页面，用户点击加入购物车，提示用户加入成功，用户点击购物车，确认购物车内信息是否显示正确。
在购物车页面，用户点击修改某商品数量按钮，商品数量是否按预期修改，总金额、运费金额、实付金额是否同步更新。
用户删除选购的商品，确认购物车内商品列表是否按预期更新，总金额、运费金额、实付金额是否同步更新。
用户点击清空购物车按钮，确认购物车内的商品是否都清空，总金额、运费金额、实付金额是否同步更新。
###### 提交订单
用户点击提交订单按钮，如果用户之前已经录入过收货信息则直接显示默认收货信息，同时让用户可以选择收货信息确认，若未填写收货人信息，则点击添加收货信息，显示添加收货信息页面，输入收货信息，点击提交保存，提交完成后在我的订单中核实订单是否提交成功，订单信息是否完整、正确。
###### 付款
提交订单完成后，显示订单信息页面，用户确认后，点击去支付按钮，调用微信支付，支付完成后，确认是否跳转到我的订单。
###### 管理订单
用户进入我的订单页面，查看是否正确显示订单列表。
点击订单项，查看订单信息，确认订单信息是否正常显示。
对于待支付、待确认状态的订单项会显示取消操作，用户点击取消按钮，确认订单状态是否变为已取消。
对于已发货状态的订单项会显示确认收货操作，用户点击确认收货按钮，确认订单状态是否变为已完成。
对于已完成状态的订单项会显示退货操作，用户点击退货按钮，确认订单状态是否变为退货中。
###### 管理收货信息
用户进入收货信息管理页面，查看是否正确显示用户的收货信息。
点击收货信息项，查看收货信息是否正常显示。
点击添加收货信息，输入收货信息：收货人、联系电话、城市、收货地址，点击保存，确认收货信息是否添加完成。
点击修改收货信息，输入修改的收货信息，点击保存，确认收货信息是否保存完成，且正确。
点击删除收货信息，确认收货信息是否被删除。
##### 后台管理系统
###### 商品类别管理
管理员用户点击商品类别管理菜单，查看是否正确显示所有商品类别，输入查询条件（类别名称），点击搜索按钮，确认商品类别是否符合搜索要求。
进入添加商品类别页面，录入商品类别信息，点击保存确认是否保存成功。
进入修改商品类别页面，录入修改的商品类别信息，修改完成后点击保存确认是否修改成功。
点击删除商品类别按钮，商品类别项是否已被删除。
###### 商品管理
管理员用户点击商品管理菜单，查看是否正确显示所有商品，输入查询条件（商品类别、商品名称、商品价格、规格），点击搜索按钮，确认商品搜索结果是否符合要求。
点击添加商品按钮，进入添加商品页面，录入商品信息：商品类别、商品名称、商品价格、规格、商品介绍，点击保存完成后确认商品信息是否保存成功。
点击商品项进入修改商品页面，录入修改的商品信息，修改商品完成后点击保存后确认是否修改成功。
点击上架按钮，确认商品是否已上架，在销售系统是否显示，点击下架按钮，确认商品是否已下架，在销售系统是否不再显示。
###### 订单管理
管理员用户点击订单管理页面，查看是否正常显示所有用户(会员)订单，输入查询条件（订单编号、订单状态、用户名、收货人、收货手机号等），点击搜索按钮，查看是否显示符合搜索要求的订单结果。
订单状态为待发货的查看是否显示发货按钮，点击发货按钮后，确认订单状态是否变为已发货状态。
订单状态为退货中的查看是否显示退款按钮，点击退货按钮，确认订单状态是否变为已退款状态。
###### 用户管理
管理员用户点击用户管理页面，查看是否显示所有用户，输入查询条件（用户名称、用户状态、创建时间），点击搜索按钮，确认用户搜索结果是否符合要求。
点击用户项，查看显示用户详细信息：用户名、用户ID、openid、手机号、邮箱、性别、年龄等是否正确、完整。
点击禁用按钮，确认用户状态是否变为已禁用，用户是否无法操作系统，点击启用按钮，确认用户状态是否变为已启用，用户是否可以正常访问系统。
点击修改按钮，修改用户信息后保存，查看是否保存成功，修改时确认是否可以对用户除状态外的信息进行修改。
#### 非功能性测试
##### 性能要求
系统服务的运行时间要求是7*24小时。系统设计承载业务量根据零售企业的销售量、访问量可动态扩容机器以保证系统正常运行。
##### 安全要求
系统操作统一记录操作日志，便于系统异常时回溯问题辅助问题解决。服务访问均采用请求报文签名验证的方式，保障数据安全。
##### 监控要求
系统部署建议部署到阿里云服务器，减少运营成本、基于运营商提供的完善服务进行监控。

## 总结
通过这次毕业设计，我掌握了分布式系统开发相关的技术。了解了电商业务的理论以及系统开发的知识。
在团队协作、软件开发、系统测试等方面有了更深入的认识，丰富完善了我的编程开发经验，同时也加深理解了许多课程中的知识和理论。  
经过全方面的系统测试，系统开发已基本完成，各模块功能基本实现，但由于时间与精力有限，系统仍有许多不完善的地方需要改进。
系统分析与设计的过程很复杂，对个人的能力是一个不小的挑战。在开发过程中，虽然遇到很多问题，但通过不断查阅资料并进行实践后最终得以解决。
一个完善的系统不是一蹴而就的，需要不断在实践与应用中发现问题，最后进行完善和补充。  

## 致谢
我首先要感谢我的论文指导老师。老师对我论文的研究方向做出了指导性的意见和推荐，在论文撰写过程中及时对我遇到的困难和疑惑给予悉心指点，提出了许多有益的改善性意见，投入了超多的心血和精力。对老师给我的帮助和关怀再次表示诚挚的谢意!
同时，还要感谢计算机科学与技术专业的同学们，大家在系统开发中互相学习，互相帮忙，共同度过了一段完美难忘的时光。
此外，还要感谢朋友以及实习的同事们在论文编写中带给的大力支持和帮忙，给我带来极大的启发。也要感谢参考文献中的作者们，透过他们的研究文章，使我对研究课题有了很好的出发点。
最后，谢谢论文评阅老师们的辛苦工作。衷心感谢我的家人、朋友、同事，以及同学们，是他们的鼓励和支持才使得此论文顺利完成。

## 参考文献
[1] 王海粟.浅议会计信息披露模式[J].财政研究，2004,21(1)：56-58.  
[2] 葛家澍，林志军.现代西方财务会计理论[M].厦门：厦门大学出版社，2001：42.  
[3] 张筑生.微分半动力系统的不变集[D].北京：北京大学数学系数学研究所, 1983：1-7.  